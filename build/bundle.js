let formConfigration={Chemistry:[{label:"Class Test (30 marks)",name:"ch_class_test",maxMarks:30},{label:"Sessional Exam (50 marks)",name:"ch_sessional_exam",maxMarks:50},{label:"Assignment (20 marks)",name:"ch_assignment",maxMarks:20},{label:"Lab File (100 marks)",name:"ch_lab_file",maxMarks:100},{label:"LPW Exam (40 marks)",name:"ch_lpw_exam",maxMarks:40},{label:"Semester End Exam (100 marks)",name:"ch_sem_end_exam",maxMarks:100}],"C Programming":[{label:"Class Test (30 marks)",name:"cp_class_test",maxMarks:30},{label:"Sessional Exam (50 marks)",name:"cp_sessional_exam",maxMarks:50},{label:"Assignment (20 marks)",name:"cp_assignment",maxMarks:20},{label:"Lab File (100 marks)",name:"cp_lab_file",maxMarks:100},{label:"LPW Exam (40 marks)",name:"cp_lpw_exam",maxMarks:40},{label:"Semester End Exam (100 marks)",name:"cp_sem_end_exam",maxMarks:100}],Statistics:[{label:"Class Test (30 marks)",name:"stats_class_test",maxMarks:30},{label:"Sessional Exam (50 marks)",name:"stats_sessional_exam",maxMarks:50},{label:"Assignment (20 marks)",name:"stats_assignment",maxMarks:20},{label:"Lab File (100 marks)",name:"stats_lab_file",maxMarks:100},{label:"LPW Exam (40 marks)",name:"stats_lpw_exam",maxMarks:40},{label:"Semester End Exam (100 marks)",name:"stats_sem_end_exam",maxMarks:100}],"Mathematics I":[{label:"Class Test (30 marks)",name:"math_class_test",maxMarks:30},{label:"Sessional Exam (50 marks)",name:"math_sessional_exam",maxMarks:50},{label:"Assignment (30 marks)",name:"math_assignment",maxMarks:30},{label:"Semester End Exam (100 marks)",name:"math_sem_end_exam",maxMarks:100}],"Written Communication":[{label:"Class Test (30 marks)",name:"wc_class_test",maxMarks:30},{label:"Sessional Exam (50 marks)",name:"wc_sessional_exam",maxMarks:50},{label:"Assignment (30 marks)",name:"wc_assignment",maxMarks:30},{label:"Semester End Exam (100 marks)",name:"wc_sem_end_exam",maxMarks:100}],"Contemporary India":[{label:"Class Test (30 marks)",name:"ci_class_test",maxMarks:30},{label:"Sessional Exam (50 marks)",name:"ci_sessional_exam",maxMarks:50},{label:"Assignment (30 marks)",name:"ci_assignment",maxMarks:30},{label:"Semester End Exam (100 marks)",name:"ci_sem_end_exam",maxMarks:100}],"Engineering Drawing & Workshop":[{label:"Class Test (20 marks)",name:"edw_class_test",maxMarks:20},{label:"Sessional Exam (50 marks)",name:"edw_sessional_exam",maxMarks:50},{label:"Assignment (40 marks)",name:"edw_assignment",maxMarks:40},{label:"Lab Practical Work (ED - 50 marks)",name:"edw_lab_ed",maxMarks:50},{label:"Lab Practical Work (Workshop - 50 marks)",name:"edw_lab_ws",maxMarks:50},{label:"LPW Exam (40 marks)",name:"edw_lpw_exam",maxMarks:40}]},subjects=Object.keys(formConfigration),currentIndex=0,formValues={},subjectName=document.getElementById("subject-name"),leftArrow=document.getElementById("left-arrow"),rightArrow=document.getElementById("right-arrow"),dynamicFormContainer=document.getElementById("dynamic-form-container"),dynamicForm=document.getElementById("dynamic-form"),calculateSubjectTotal=e=>{var a=formConfigration[e];let s=0,m=0;return a.forEach(a=>{s+=formValues[e][a.name]||0,m+=a.maxMarks}),s/m*100/10},calculateCGPA=()=>{let e=0;return subjects.forEach(a=>{e+=calculateSubjectTotal(a)}),e/subjects.length},updateFormField=()=>{let r=subjects[currentIndex];var a=formConfigration[r],a=(dynamicForm.innerHTML="",a.forEach(e=>{var a=document.createElement("div"),s=(a.className="field-container",document.createElement("label")),m=(s.htmlFor=e.name,s.textContent=e.label||"Enter value:",document.createElement("input"));m.type="number",m.name=e.name,m.id=e.name,m.placeholder="Enter Marks",formValues[r]&&formValues[r][e.name]&&(m.value=formValues[r][e.name]),m.addEventListener("input",a=>{formValues[r]||(formValues[r]={}),formValues[r][e.name]=Number(a.target.value)}),a.appendChild(s),a.appendChild(m),dynamicForm.appendChild(a)}),currentIndex===subjects.length-1&&((a=document.createElement("input")).type="submit",a.value="Submit",dynamicForm.appendChild(a)),dynamicForm.scrollHeight);dynamicFormContainer.style.height=a+"px"},updateSubjectDisplay=()=>{subjectName.textContent=subjects[currentIndex],leftArrow.disabled=0===currentIndex,rightArrow.disabled=currentIndex===subjects.length-1,updateFormField()},validateForm=(leftArrow.addEventListener("click",()=>{0<currentIndex&&(currentIndex--,updateSubjectDisplay())}),rightArrow.addEventListener("click",()=>{currentIndex<subjects.length-1&&(currentIndex++,updateSubjectDisplay())}),()=>{for(var a in formValues){var e;for(e of formConfigration[a])if(void 0===formValues[a][e.name]||isNaN(formValues[a][e.name]))return alert(`Please enter valid marks for ${a}: `+e.label),!1}return!0});dynamicForm.addEventListener("submit",a=>{a.preventDefault(),validateForm()&&(a=calculateCGPA(),isNaN(a)?alert("Error: Invalid data entered."):alert("Your CGPA is: "+a.toFixed(2)))}),updateSubjectDisplay();